{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/nova/apps/tracking/src/app/viaje/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\n\ninterface Contract {\n  id: number;\n  phone_number: string;\n  lot_number: string;\n  full_name: string;\n  address: string;\n  gatepass: string;\n  timestamp: string;\n  signature_data: string;\n  ip_address?: string;\n}\n\nexport default function ViajePage({ params }: { params: Promise<{ id: string }> }) {\n  const [contract, setContract] = useState<Contract | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const router = useRouter();\n  const { id } = use(params);\n\n  useEffect(() => {\n    fetchContract();\n  }, [id]);\n\n  const fetchContract = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/contracts/${id}`);\n      \n      if (!response.ok) {\n        throw new Error('Contrato no encontrado');\n      }\n      \n      const data = await response.json();\n      setContract(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error al cargar el contrato');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      weekday: 'long',\n      day: 'numeric',\n      month: 'short', \n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).replace(/^\\w/, (c) => c.toUpperCase());\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4\"></div>\n          <span className=\"text-gray-500\">Cargando información del viaje...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !contract) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center\">\n            <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Contrato no encontrado</h2>\n          <p className=\"text-gray-600 mb-6\">{error}</p>\n          <button\n            onClick={() => router.back()}\n            className=\"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors\"\n          >\n            Volver\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"bg-black rounded-3xl shadow-lg mb-8 overflow-hidden text-white\">\n          <div className=\"px-8 py-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-3xl font-bold mb-2\">Información del Viaje</h1>\n                <p className=\"text-gray-200\">Detalles completos del contrato</p>\n              </div>\n              <button\n                onClick={() => router.back()}\n                className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors\"\n              >\n                ← Volver\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Información del Cliente */}\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n            <h2 className=\"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-black rounded-full flex items-center justify-center\">\n                <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                </svg>\n              </div>\n              Información del Cliente\n            </h2>\n            \n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Nombre Completo:</span>\n                <span className=\"text-gray-900 font-semibold\">{contract.full_name || 'N/A'}</span>\n              </div>\n              \n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Teléfono:</span>\n                <span className=\"text-gray-900 font-mono font-semibold\">{contract.phone_number}</span>\n              </div>\n              \n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Dirección:</span>\n                <span className=\"text-gray-900\">{contract.address || 'N/A'}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Información del Viaje */}\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n            <h2 className=\"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-black rounded-full flex items-center justify-center\">\n                <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0H4m16 0l-2-2m0 0l-2 2m2-2v-4M4 13l2-2m0 0l2 2m-2-2v-4\" />\n                </svg>\n              </div>\n              Información del Viaje\n            </h2>\n            \n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Número de Lote:</span>\n                <span className=\"text-2xl font-bold text-black font-mono\">{contract.lot_number}</span>\n              </div>\n              \n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Gatepass:</span>\n                <span className=\"text-gray-900 font-mono font-semibold\">{contract.gatepass || 'N/A'}</span>\n              </div>\n              \n              <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                <span className=\"text-gray-600 font-medium\">Fecha y Hora:</span>\n                <span className=\"text-gray-900 font-semibold\">{formatDate(contract.timestamp)}</span>\n              </div>\n              \n              {contract.ip_address && contract.ip_address !== '::1' && (\n                <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                  <span className=\"text-gray-600 font-medium\">IP Address:</span>\n                  <span className=\"text-gray-900 font-mono\">{contract.ip_address}</span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Firma Digital */}\n        <div className=\"mt-8 bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-black rounded-full flex items-center justify-center\">\n              <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n              </svg>\n            </div>\n            Firma Digital del Cliente\n          </h2>\n          \n          <div className=\"bg-gray-50 rounded-xl p-4 border-2 border-dashed border-gray-200\">\n            <div className=\"flex justify-center\">\n              <Image\n                src={contract.signature_data}\n                alt=\"Firma del cliente\"\n                className=\"max-w-full h-auto rounded-lg shadow-sm bg-white p-4\"\n                style={{ maxHeight: '300px', objectFit: 'contain' }}\n                width={600}\n                height={300}\n              />\n            </div>\n          </div>\n          \n          <div className=\"mt-4 text-center text-sm text-gray-500\">\n            Firma registrada el {formatDate(contract.timestamp)}\n          </div>\n        </div>\n\n        {/* Company Footer */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-gray-500 text-sm\">\n            © Jorge Minnesota Logistics LLC - Sistema de Registro de Contratos\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}